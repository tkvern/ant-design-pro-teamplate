(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9531],{34687:function(v){v.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",icon:"icon___rzGKO"}},19319:function(v,D,e){"use strict";e.r(D);var q=e(71194),K=e(50146),ee=e(18106),O=e(16004),se=e(34792),h=e(48086),m=e(11849),p=e(3182),L=e(2824),ae=e(17462),y=e(76772),R=e(94043),u=e.n(R),W=e(6317),x=e(36571),Z=e(89366),S=e(2603),b=e(95073),B=e(47745),F=e(38657),I=e(67294),n=e(25377),N=e(34687),g=e.n(N),s=e(85893),z=function(f){var c=f.content;return(0,s.jsx)(y.Z,{style:{marginBottom:24},message:c,type:"error",showIcon:!0})},H=function(){var f=(0,I.useState)({}),c=(0,L.Z)(f,2),C=c[0],G=c[1],Y=(0,I.useState)("account"),T=(0,L.Z)(Y,2),P=T[0],V=T[1],U=(0,n.tT)("@@initialState"),E=U.initialState,J=U.setInitialState,_=(0,n.YB)(),Q=function(){var d=(0,p.Z)(u().mark(function o(){var l,r;return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E==null||(l=E.fetchUserInfo)===null||l===void 0?void 0:l.call(E);case 2:if(r=t.sent,!r){t.next=6;break}return t.next=6,J(function(M){return(0,m.Z)((0,m.Z)({},M),{},{currentUser:r})});case 6:case"end":return t.stop()}},o)}));return function(){return d.apply(this,arguments)}}(),X=function(){var d=(0,p.Z)(u().mark(function o(l){var r,i,t,M,j,A;return u().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,x.x4)((0,m.Z)((0,m.Z)({},l),{},{type:P}));case 3:if(r=a.sent,r.status!=="ok"){a.next=15;break}return i=_.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),h.ZP.success(i),a.next=9,Q();case 9:if(n.m8){a.next=11;break}return a.abrupt("return");case 11:return t=n.m8.location.query,M=t,j=M.redirect,n.m8.push(j||"/"),a.abrupt("return");case 15:console.log(r),G(r),a.next=23;break;case 19:a.prev=19,a.t0=a.catch(0),A=_.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),h.ZP.error(A);case 23:case"end":return a.stop()}},o,null,[[0,19]])}));return function(l){return d.apply(this,arguments)}}(),w=C.status,k=C.type;return(0,s.jsxs)("div",{className:g().container,children:[(0,s.jsx)("div",{className:g().lang,"data-lang":!0,children:n.pD&&(0,s.jsx)(n.pD,{})}),(0,s.jsx)("div",{className:g().content,children:(0,s.jsxs)(b.U,{logo:(0,s.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"Online Grocery Store",subTitle:_.formatMessage({id:"pages.layouts.userLayout.title"}),initialValues:{autoLogin:!0},onFinish:function(){var d=(0,p.Z)(u().mark(function o(l){return u().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,X(l);case 2:case"end":return i.stop()}},o)}));return function(o){return d.apply(this,arguments)}}(),children:[(0,s.jsx)(O.Z,{activeKey:P,onChange:V,children:(0,s.jsx)(O.Z.TabPane,{tab:_.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},"account")}),w==="error"&&k==="account"&&(0,s.jsx)(z,{content:_.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF(admin/ant.design)"})}),P==="account"&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(B.Z,{name:"username",fieldProps:{size:"large",prefix:(0,s.jsx)(Z.Z,{className:g().prefixIcon})},placeholder:_.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:(0,s.jsx)(n._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,s.jsx)(B.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,s.jsx)(S.Z,{className:g().prefixIcon})},placeholder:_.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:(0,s.jsx)(n._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),(0,s.jsxs)("div",{style:{marginBottom:24},children:[(0,s.jsx)(F.Z,{noStyle:!0,name:"autoLogin",children:(0,s.jsx)(n._H,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),(0,s.jsx)("a",{style:{float:"right"},onClick:function(){K.Z.info({title:_.formatMessage({id:"pages.login.forgetPassword.title"}),content:_.formatMessage({id:"pages.login.forgetPassword.content"})})},children:(0,s.jsx)(n._H,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})}),(0,s.jsx)(W.Z,{})]})};D.default=H}}]);
